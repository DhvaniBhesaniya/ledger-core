dhvani@inventyv:~/personal_work/ledger-core$ docker compose up -d
[+] Running 2/2
 ✔ Container transaction_service_db       Healthy                                                                                                                                                            12.2s 
 ✔ Container transaction_service_adminer  Started                                                                                                                                                            12.4s 
dhvani@inventyv:~/personal_work/ledger-core$ docker ps -a
CONTAINER ID   IMAGE                COMMAND                  CREATED          STATUS                    PORTS                                         NAMES
c42d0629ab21   adminer:latest       "entrypoint.sh docke…"   20 seconds ago   Up 7 seconds              0.0.0.0:8081->8080/tcp, [::]:8081->8080/tcp   transaction_service_adminer
0ee81db401cf   postgres:15-alpine   "docker-entrypoint.s…"   20 seconds ago   Up 18 seconds (healthy)   0.0.0.0:5432->5432/tcp, [::]:5432->5432/tcp   transaction_service_db
dhvani@inventyv:~/personal_work/ledger-core$ docker compose down
[+] Running 3/3
 ✔ Container transaction_service_adminer    Removed                                                                                                                                                           0.2s 
 ✔ Container transaction_service_db         Removed                                                                                                                                                           0.2s 
 ✔ Network ledger-core_transaction_network  Removed                                                                                                                                                           0.2s 
dhvani@inventyv:~/personal_work/ledger-core$








sudo apt-get update
sudo apt-get install libpq-dev

# Uninstall current diesel_cli
cargo uninstall diesel_cli

# Install diesel_cli with postgres feature only
cargo install diesel_cli --no-default-features --features postgres




1. Create migration
   diesel migration generate create_accounts
   
2. Write SQL in up.sql
   CREATE TABLE accounts (...)
   
3. Run migration
   diesel migration run
   
4. Auto-generate Rust schema
   diesel print-schema > src/schema.rs
   
5. Define models in models.rs
   #[derive(Queryable, Selectable)]
   pub struct Account { ... }
   
6. Write repository functions
   pub fn get_account(id: i64, conn: &mut PgConnection) -> ...
   
7. Use in handlers
   let account = account_repo::get_account(123, &conn)?;




   Step 1: Install Prerequisites
bash
# Install Rust (if not already)
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
source $HOME/.cargo/env

# Install Diesel CLI
cargo install diesel_cli --no-default-features --features postgres


Step 4: Set Up Database
bash
# Start Docker
docker-compose up -d

# Wait for PostgreSQL to be ready
sleep 10

# Create .env from example
cp .env.example .env

# Initialize Diesel
diesel setup

# Create migrations
diesel migration generate create_accounts
diesel migration generate create_api_keys
diesel migration generate create_transactions
diesel migration generate create_webhook_endpoints
diesel migration generate create_webhook_events

# Copy migration SQL from guide into migration files
# Then run migrations
diesel migration run

# Generate schema
diesel print-schema > src/schema.rs

# Reset database (drop and create (this will drop all data))
# diesel database reset












testing -1 
